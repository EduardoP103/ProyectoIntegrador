<mvc:View
	controllerName="com.pe.proyectoIntegrador.controller.MainView"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m"
	xmlns:c="sap.ui.core"
	xmlns:f="sap.f"
	xmlns:layout="sap.ui.layout"
	height="100%"
>
	<f:DynamicPage
		id="dynamicPageId"
		showFooter="true"
		class="sapUiNoContentPadding"
		headerExpanded="{/headerExpanded}"
		toggleHeaderOnTitleClick="{/titleClickable}"
	>
		<f:title>
			<f:DynamicPageTitle>
				<f:heading>
					<Title text="{i18n>title}"/>
				</f:heading>
				<f:snappedTitleOnMobile>
					<Title text="{i18n>consultor}"/>
				</f:snappedTitleOnMobile>
				<f:actions>
				</f:actions>
			</f:DynamicPageTitle>
		</f:title>
		<!-- DynamicPage Header -->
		<f:header>
			<f:DynamicPageHeader pinnable="true">
				<layout:HorizontalLayout allowWrapping="true">
					<layout:VerticalLayout class="sapUiMediumMarginEnd">
						<Image
							src="assets/yoshi.jpg"
							width="100px"
						/>
					</layout:VerticalLayout>
					<layout:VerticalLayout>
						<ObjectAttribute title="{i18n>name}"/>
						<ObjectStatus
							text="{i18n>user}"
							state="Success"
						/>
						<ObjectAttribute title="{i18n>post}"/>
						<ObjectStatus
							text="{i18n>position}"
							state="Success"
						/>
						
					</layout:VerticalLayout>
				</layout:HorizontalLayout>
			</f:DynamicPageHeader>
			
		</f:header>
		
		<f:content>
			
			<IconTabBar
				id="iconTabBar"
				class="sapUiResponsiveContentPadding"
				selectedKey="{
					path: 'localModel>/selectedIconTabBar'
				}"
			>
			
				<items>
					<IconTabFilter
						key="0"
						id="tabproductos"
						text="{i18n>products}"
					>
					<SearchField enableSuggestions="true" id="searchField" placeholder="Filtrar" width="auto" liveChange="onSearch" value="{
						path: 'localModel>/search'
					}"
					></SearchField>
						<!-- TABLA -->
						<Table
							id="idProductsTable"
							sticky="HeaderToolbar,ColumnHeaders"
							inset="false"
							items="{
								path: 'localModel>/listOfProducts',
								sorter: {
									path: 'id'
								}
							}"
							class="sapFDynamicPageAlignContent"
							width="auto"
						>
							<headerToolbar>
								<OverflowToolbar>
									<content>
										<Title
											text="{i18n>products} ({= ${localModel>/listOfProducts}.length })"
											level="H2"
										/>
										<ToolbarSpacer/>
										<Button
										text="{i18n>sortAscending}"
										press="onSortAscending"
										icon="sap-icon://sort-ascending"
									  />
									  <Button
										text="{i18n>sortDescending}"
										press="onSortDescending"
										icon="sap-icon://sort-descending"
									  />
										<Button
											text="{i18n>add}"
											icon="sap-icon://add"
											type="Transparent"
											press="onAddProduct"
										/>
										<Button
											text="{i18n>config}"
											icon="sap-icon://action-settings"
											type="Transparent"
										/>
									</content>
								</OverflowToolbar>
							</headerToolbar>
							<columns>
								<Column>
									<Text text="{i18n>name}"/>
								</Column>
								<Column>
									<Text text="{i18n>description}"/>
								</Column>
								<Column
									minScreenWidth="Desktop"
									demandPopin="true"
									hAlign="End"
								>
									<Text text="{i18n>image}"/>
								</Column>
								<Column
									minScreenWidth="Desktop"
									demandPopin="true"
									hAlign="Center"
								>
									<Text text="{i18n>salePrice}"/>
								</Column>
								<Column
									minScreenWidth="Desktop"
									demandPopin="true"
									hAlign="Center"
								>
									<Text text="{i18n>purchasePrice}"/>
								</Column>
								<Column
									minScreenWidth="Tablet"
									demandPopin="true"
								>
									<Text text="{i18n>stock}"/>
								</Column>
								<Column
									minScreenWidth="Tablet"
									demandPopin="true"
								>
									<Text text="{i18n>unitOfMeasurementName}"/>
								</Column>
								<Column
									minScreenWidth="Tablet"
									demandPopin="true"
								>
									<Text text="{i18n>supplierName}"/>
								</Column>
								<Column
									minScreenWidth="Desktop"
									demandPopin="true"
									hAlign="Center"
								>
									<Text text="{i18n>statusName}"/>
								</Column>
								<Column hAlign="Center">
									<Text text=""/>
								</Column>
							</columns>
							<items>
								<ColumnListItem vAlign="Middle">
									<cells>
										<Text text="{localModel>name}"/>
										<Text text="{localModel>description}"/>
										<Button
											press="onOpenViewImage"
											icon="sap-icon://picture"
											type="Emphasized"
										/>
										<Text text="S/. {localModel>salePrice}"/>
										<Text text="S/. {localModel>purchasePrice}"/>
										<Text text="{localModel>stock}"/>
										<Text text="{localModel>unitOfMeasurementName}"/>
										<Text text="{localModel>supplierName}"/>
										<ObjectStatus
											text="{localModel>statusName}"
											icon="sap-icon://message-success"
											state="Success"
										/>
										<HBox class="contenRowIconTable">
											<Button
												icon="sap-icon://edit"
												type="Ghost"
												press="onPressEdit"
											/>
											<Button
												icon="sap-icon://delete"
												type="Ghost"
												press="onConfirmDeletion"
												ariaHasPopup="Dialog"
											/>
										</HBox>
									</cells>
								</ColumnListItem>
							</items>
						</Table>
					</IconTabFilter>
					<IconTabFilter
						key="1"
						id="tabSupplierNames"
						text="{i18n>supplierNames}"
					>
						<Table
							id="listOfSuppliers"
							sticky="HeaderToolbar,ColumnHeaders"
							inset="false"
							class="sapUiSmallNegativeMarginBeginEnd"
							width="auto"
							items="{
								path: 'localModel>/listOfSuppliers',
								sorter: {
									path: 'id'
								}
							}"
						>
							<headerToolbar>
								<OverflowToolbar>
									<content>
										<Title
											text="Proveedores ({= ${localModel>/listOfSuppliers}.length })"
											level="H2"
										/>
										<ToolbarSpacer/>
										<Button
											type="Transparent"
											text="{i18n>add}"
											icon="sap-icon://add"
											press="onaddSupplierName"
										/>
										<Button
											text="{i18n>config}"
											icon="sap-icon://action-settings"
											type="Transparent"
										/>
									</content>
								</OverflowToolbar>
							</headerToolbar>
							<columns>
								<Column width="150px">
									<Text text="{i18n>name}"/>
								</Column>
								<Column hAlign="Center">
									<Text text="{i18n>phone}"/>
								</Column>
								<Column
									minScreenWidth="Tablet"
									demandPopin="true"
									hAlign="Center"
								>
									<Text text="{i18n>address}"/>
								</Column>
								<Column
									minScreenWidth="Desktop"
									demandPopin="true"
									hAlign="Center"
								>
									<Text text="{i18n>statusName}"/>
								</Column>
							</columns>
							<items>
								<ColumnListItem vAlign="Middle">
									<cells>
										<Text text="{localModel>name}"/>
										<Text text="{localModel>phone}"/>
										<Text text="{localModel>address}"/>
										<ObjectStatus
											text="{localModel>state}"
											state="Success"
											icon="sap-icon://message-success"
										/>
									</cells>
								</ColumnListItem>
							</items>
						</Table>
					</IconTabFilter>
					<IconTabFilter
						key="2"
						text="{i18n>measurementUnits}"
					>
						<Table
							id="listOfUnitOfMeasurement"
							sticky="HeaderToolbar,ColumnHeaders"
							inset="false"
							class="sapUiSmallNegativeMarginBeginEnd"
							width="auto"
							items="{
								path: 'localModel>/listOfUnitOfMeasurement',
								sorter: {
									path: 'id'
								}
							}"
						>
							<headerToolbar>
								<OverflowToolbar>
									<content>
										<Title
											text="Unidad de Medida ({= ${localModel>/listOfUnitOfMeasurement}.length })"
											level="H2"
										/>
										<ToolbarSpacer/>
										<Button
											type="Transparent"
											text="Agregar Unidad de Medida"
											icon="sap-icon://add"
											press="onAddRegistro"
										/>
									</content>
								</OverflowToolbar>
							</headerToolbar>
							<columns>
								<Column hAlign="Begin">
									<Text text="{i18n>name}"/>
								</Column>
								<Column
									minScreenWidth="Tablet"
									demandPopin="true"
									hAlign="Center"
								>
									<Text text="{i18n>description}"/>
								</Column>
								<Column hAlign="Center">
									<Text text="{i18n>abbreviation}"/>
								</Column>
								<Column hAlign="Center">
									<Text text="{i18n>state}"/>
								</Column>
							</columns>
							<items>
								<ColumnListItem vAlign="Middle">
									<cells>
										<Text text="{localModel>name}"/>
										<Text text="{localModel>description}"/>
										<Text text="{localModel>abbreviation}"/>
										<ObjectStatus
											text="{localModel>state}"
											state="Success"
											icon="sap-icon://message-success"
										/>
									</cells>
								</ColumnListItem>
							</items>
						</Table>
					</IconTabFilter>
				</items>
			</IconTabBar>
		</f:content>
		<!-- Dynamige Footer -->
		<f:footer>
			<OverflowToolbar>
				<ToolbarSpacer/>
				<Button
					icon="sap-icon://pdf-attachment"
					type="Transparent"
					press="onExportPDF"
					text="Exportar PDF"
				/>
				<Button
					icon="sap-icon://excel-attachment"
					press="onDataExport"
					type="Accept"
					text="Exportar CSV"
				/>
				<Button
					icon="sap-icon://excel-attachment"
					press="onExportSpreadSheetXLSX"
					type="Accept"
					text="Exporta Excel"
				/>
			</OverflowToolbar>
		</f:footer>
	</f:DynamicPage>
</mvc:View>